<h1>Question</h1>
<%= @question.title %>
<p> <%= @question.content %> </p>
<%= button_to "delete question", {:controller => :questions,
  :action => 'destroy', :id => @question.id }, :method => :delete %>

  <%= button_to "edit question", {:controller => :questions,
  :action => 'edit', :id => @question.id }, :method => :get %>

<ul id='answer_list'>
  <% answers = @question.answers.order(vote_counter: :desc)%>
  <% answers.each do |answer| %>
    <li>
      <%= button_to "△", {:controller => :answers, :action => 'upvote', :id => answer.id }, {:method => :patch, :class => 'a_upvote'} %>
      <%= button_to "▽", {:controller => :answers, :action => 'downvote', :id => answer.id }, {:method => :patch, :class => 'a_downvote'} %>
      <p><%= answer.vote_counter %></p>
    </li>
    <%= answer.content %>
  <% end %>
</ul>

<%= render template: "questions/_new_answer" %>

<script id='build_answer' type="text/x-handlebars-template">
  <li>
    <form method='post'
          action='/questions/{{question_id}}/answers/{{id}}/upvote'>
          <div>
            <input type="hidden" name="_method" value="patch">
            <button class='a_upvote' type="submit">△</button>
          </div>
    </form>
    <form method='post'
          action='/questions/{{question_id}}/answers/{{id}}/downvote'>
        <div>
          <input type="hidden" name="_method" value="patch">
          <button class='a_downvote' type="submit">▽</button>
        </div>
    </form>
   <p> {{vote_counter}} </p>
  </li>
  {{content}}
</script>
