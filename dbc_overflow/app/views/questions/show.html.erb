<h1>
  <strong>Title:</strong>
  <%= @question.title %>
</h1>

<div class="upvote">
  <h5>Upvote</h5>
</div>
<h3><%= @question.vote_count %></h3>
<div class="downvote">
  <h5>Downvote</h5>
</div>

<p>
  <strong>Question:</strong>
  <%= @question.content %>
</p>

<p>
  <strong>Tags:</strong>
  <%= @question.tag_list %>
</p>

<p>
  <strong>Asked By:</strong>
  <%= @question.user.username %> |
  <%= @question.updated_at %>
</p>

<% if logged_in? && @question.user.id == current_user.id %>
  <%= link_to 'Edit Question', edit_question_path(@question) %>
<% end %>

<% @question.comments.each do |comment| %>
  <p>
    <strong>Comment: </strong><%= comment.content %> |
    <strong>Username: </strong><%= link_to comment.user.username, user_path(comment.user) %> |
    <%= comment.created_at %>
  </p>
<% end %>

<br>
<h2><strong>Answers:</strong></h2>
<% if @question.chosen.length != 0  %>
  <div class="upvote">
    <h5>Upvote</h5>
  </div>
  <h3><%= @question.chosen.first.vote_count %></h3>
  <div class="downvote">
    <h5>Downvote</h5>
  </div>
  <h3><strong>Chosen: <%= @question.chosen.first.content %></strong></h3>
  <h4>Answered By: <%= @question.chosen.first.user.username %> | <%= @question.chosen.first.updated_at %> </h4>
  <% if logged_in? && @question.chosen.first.user.id == current_user.id %>
    <%= link_to 'Edit Answer', edit_answer_path(@question.chosen.first) %>
  <% end %>
  <% @question.chosen.first.comments.each do |comment| %>
  <p>
    <strong>Comment: </strong><%= comment.content %> |
    <strong>Username: </strong><%= link_to comment.user.username, user_path(comment.user) %> |
    <%= comment.created_at %>
  </p>
  <% end %>
<% end %>

<% @question.answers.each do |answer| %>
  <br>
  <div class="upvote">
    <h5>Upvote</h5>
  </div>
  <h3><%= answer.vote_count %></h3>
  <div class="downvote">
    <h5>Downvote</h5>
  </div>
  <h3><%= answer.content unless @question.favorite_answers.first == answer%></h3>
  <h4>Answered By: <%= answer.user.username %> | <%= answer.updated_at %> </h4>
  <% if logged_in? && answer.user.id == current_user.id %>
    <%= link_to 'Edit Answer', edit_answer_path(answer) %>
  <% end %>
  <% answer.comments.each do |comment| %>
    <p>
      <strong>Comment: </strong><%= comment.content %> |
      <strong>Username: </strong><%= link_to comment.user.username, user_path(comment.user) %> |
      <%= comment.created_at %>
    </p>
  <% end %>
<% end %>

<%= render 'answer_form' %>

<%= link_to 'Back', questions_path %>
